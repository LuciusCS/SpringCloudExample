


比如说你现在有一行数据。 id,name,age .... 30 个字段。但是你现在搜索，只需要根据
id,name,age 三个字段来搜索。如果你傻乎乎往 es 里写入一行数据所有的字段，就会导致说
90% 的数据是不用来搜索的，结果硬是占据了 es 机器上的 filesystem cache 的空间，单
条数据的数据量越大，就会导致 filesystem cahce 能缓存的数据就越少。其实，仅仅写入
es 中要用来检索的少数几个字段就可以了，比如说就写入 es id,name,age 三个字段，然后
你可以把其他的字段数据存在 mysql/hbase 里，我们一般是建议用 es + hbase 这么一个架
构。
hbase 的特点是适用于海量数据的在线存储，就是对 hbase 可以写入海量数据，但是不要做
复杂的搜索，做很简单的一些根据 id 或者范围进行查询的这么一个操作就可以了。从 es 中根
据 name 和 age 去搜索，拿到的结果可能就 20 个 doc id ，然后根据 doc id 到 hbase 里去
查询每个 doc id 对应的完整的数据，给查出来，再返回给前端。