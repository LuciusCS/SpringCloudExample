



mysql 单机支撑到 2000QPS 也开始容易报警了。



redis 实现高并发主要依靠主从架构，一主多从，一般来说，很多项目其实就足够了，单主用
来写入数据，单机几万 QPS，多从用来查询数据，多个从实例可以提供每秒 10w 的 QPS。


按 16 核 CPU + 64~128GB RAM + NVMe SSD 的硬件规格，帮你整理一个「单机性能参考表」。
这些数据都是结合 官方 benchmark + 社区测试 + 常见实战经验 总结出来的，实际数字会随配置和 workload 变化。


| 系统                     | 单机性能参考                                              |  备注/注意事项                                   |
| ---------------------- | ---------------------------------------------------------- |--------------------------------------------|
| **MySQL**              | - **QPS**：50k\~200k（简单查询，索引命中，全部内存缓存）                   | - 连接数受 `max_connections` 限制，但更多受内存和线程调度影响。 |
                            - **TPS**：几万级（OLTP 混合读写，InnoDB，SSD）                            - QPS 受 **SQL复杂度、索引设计、事务隔离级别** 强烈影响。             
                            - **最大连接数**：常见配置 2k\~10k（太多连接推荐接 Proxy/Pool） 
| **Tomcat**              | - **并发连接数**：5k\~20k（BIO/默认线程池），几十 k 需要 NIO 配置           | - 高并发要用 **NIO Connector**，并调大 `maxThreads`、`acceptCount` |
                            - **吞吐量**：10k\~100k RPS（简单静态资源 / HelloWorld）                   - 应用逻辑（DB、IO 调用）往往是瓶颈。  
| **Redis (单机)**         | - **OPS**：500k\~1.5M QPS（GET/SET，小 key/value，pipelining）         | - 受网络栈影响很大，开启 `epoll`、合理设置 `tcp-backlog`               |
                             - **延迟**：sub-ms（大部分操作在微秒级）                                   - 开启持久化（AOF fsync always）会显著降低吞吐。          
                             - **连接数**：可达数万（推荐用连接池）
| **Nginx**              | - **并发连接数**：几十万级（epoll/kqueue 模型）                             | - 性能极大依赖 **内核参数调优**（`ulimit -n`、`worker_processes`、`worker_connections`）  
                            - **吞吐量**：100k\~1M RPS（静态文件 / 反向代理，短连接）                     - TLS/HTTPS 会显著降低 RPS（CPU 开销）。   
| **RabbitMQ (单机)**      | - **消息吞吐量**：50k\~200k msg/s（非持久化、非镜像队列）                   | - **Quorum queue** 性能低于经典队列。      |
                             - **持久化消息**：5k\~20k msg/s（开启磁盘写入）                             - 高吞吐场景建议多队列 + 分区消费。   
                             - **连接数**：几千到上万（推荐分 channel）
| **Elasticsearch (单机)** | - **写入（索引）吞吐**：50k\~150k docs/s（bulk API，SSD，replica=0）  | - **堆内存建议 ≤32GB**（避免 Compressed Oops 丢失） |
                             - **查询吞吐**：5k\~20k QPS（term/match，简单查询）                    - 查询性能依赖 **索引字段数、mapping、shard 数量**
                             - **聚合吞吐**：几百到几千 QPS（复杂聚合，group by，sort）               - 写入吞吐随 `refresh_interval` 调整可大幅变化。