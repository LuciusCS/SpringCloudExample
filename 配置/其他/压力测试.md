


1.不要直接压测springboot，把它挂到nginx这样的反向代理后面，因为tomcat等此类的容器并不能很
好的处理网络请求，相反在网络不好的时候会消耗大量的cpu，多到你怀疑人生，相反用了nginx后可以
对流量进行缓冲整理，springboot的处理吞吐量也可以大幅提高。
2.压测时请开启长链接，即keepalive请求头一定要有，这个可以链接复用，可以极大的提升请求的处
理时间，减少https此类的由于每次建立连接的相互鉴权建立https通道的时间。
3.压测时尽量使用内网环境，外网环境的网络质量会参差不齐，这个会极大的影响链接质量。从而影响
rt的平均时间和p99。
4.请给压测机器吊到目标集群的网络链路足够的带宽，如果没有足够的带宽，即使是很小的请求参数也
有可能把带宽占满，导致压测数据失真。
5.给你的目标server足够的cpu与内存，压测目标只测试到75%的水位，不要满载测试。（当然要测试
下极限的情况下可以满测）。
6. 优化你的tomcat的worker线程数和最大连接数，可以参考我的文章：一般连接数不用优化，线程池
   大小可以根据cpu配置进行适当调大，经验值是1c对应200线程，比如是8核cpu，最大可以调整到
   1600。这个切记不是越大越好。1600线程对应 的栈大小就是1.6G，这是一个非常大的开销。
   tomcat的连接数与最大线程数默认值为何是1
   万和200
   86 资同•1评论 文章
   当然，你也可以去把tomcat换成undertower啥的，这个我个人是不建议的，一般的应用如果是跑
   benchmark，可能替换后有收益。但是如果是真正的正儿八经的web服务，99.99%的场景下这个替換
   带来的提升就是扯淡。
   矢
   注